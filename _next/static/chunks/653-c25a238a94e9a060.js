"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{9145:function(t,e,n){var i,o,s,a,r;n.d(e,{BA:function(){return f},Bm:function(){return h},Gd:function(){return o},Ie:function(){return d},VV:function(){return c},Vj:function(){return i},fw:function(){return v},gK:function(){return g},gR:function(){return u},tI:function(){return l}});let c="years.json",u="videoList.json",l="tagGroupsList.json";function d(t,e,n,i){var o;return"Thumbnails"==e?o=".png":"Videos"==e&&(o=".mp4"),"".concat(t,"/").concat(e,"/").concat(n," (").concat(i,")").concat(o)}function h(t){return"".concat(t,"/").concat(u)}function g(t){return"".concat(t,"/").concat(l)}function f(t,e){return"".concat(t,"/").concat(e,"/").concat("tagList.json")}function v(t,e,n){return"".concat(t,"/").concat(e,"/").concat(n,".json")}(a=i||(i={})).team="Team",a.sport="Sport",(r=o||(o={})).thumbnail="Thumbnails",r.video="Videos",(s||(s={})).dateRecorded="dateRecorded"},4864:function(t,e,n){n.d(e,{N:function(){return u}});var i=n(4866),o=n(719),s=n(5611),a=n(5297);class r{SetClient(t){this.region=t.split(":")[0];var e={};e.region=this.region,e.credentials=(0,a.s)({identityPoolId:t,clientConfig:{region:this.region}}),this.client=new i.g(e)}SetBucket(t){this.bucket=t}getWebAddress(t){if(void 0!=this.region&&void 0!=this.bucket)return"https://".concat(this.bucket,".s3.").concat(this.region,".amazonaws.com/").concat(t).replaceAll(" ","+");throw Error("Amazon info not set")}async get(t){if(null!=this.client&&null!=this.bucket)return await c(t,this.client,this.bucket)}async put(t,e){if(null!=this.client&&null!=this.bucket)return await l(t,this.client,this.bucket,e)}constructor(){this.client=null,this.bucket=null}}async function c(t,e,n){let i=new o.i({Bucket:n,Key:t,ResponseCacheControl:"no-cache"});try{let t=await e.send(i);return await t.Body.transformToString()}catch(t){console.warn(t);return}}var u=new r;async function l(t,e,n,i){console.log("Bucket: "+n),console.log("Name: "+t),console.log("Content: "+i);let o=new s.U({Bucket:n,Key:t,Body:i});try{let t=await e.send(o);return console.log(t),!0}catch(t){return console.warn(t),!1}}},4698:function(t,e,n){n.d(e,{T:function(){return a},o:function(){return r}});var i=n(6128),o=n(4864),s=n(9145);class a{getTitleList(){let t=[];for(var e=0;e<this.sections.length;e++)t.push(this.sections[e].title);return t}getSectionLocation(t){for(var e=0;e<this.sections.length;e++)if(this.sections[e].title==t)return this.sections[e].location}addSection(t){this.sections.push({title:t,location:o.N.getWebAddress((0,s.Bm)(t))})}getJson(){return JSON.stringify(this.sections)}constructor(t){this.sections=[],void 0!=t?this.sections=JSON.parse(t):this.sections=[]}}class r{async setTagGroupsListData(){null!=this.tagGroups&&(this.tagGroups.forEach(async t=>{this.tagGroupsListData[t.name]=JSON.parse(await o.N.get(t.location))}),console.log(this.tagGroupsListData))}static getVideoList(t){return void 0==t?[]:t.videoList}getTagsGroups(){return this.tagGroups}addVideo(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2],console.log("video being added ");let n=t.video,o=t.tagGroups;if(void 0==o)return;let a=Object.keys(o),r=[];a.forEach(t=>{this.tagGroupsListData.hasOwnProperty(t)||(this.newSectionsNames.push(t),this.tagGroups.push({name:t,location:(0,s.BA)(i.videoSection,t)}),this.tagGroupsListData[t]=[]);let e=o[t],n=[];this.tagGroupsListData.hasOwnProperty(t)&&(n=this.tagGroupsListData[t]),e.forEach(e=>{n.includes(e)||(this.tagGroupsListData[t].push(e),this.updateSectionNames.includes(t)||this.updateSectionNames.push(t)),r.push({section:t,name:e})})}),this.newVideos.push({video:n,tags:r})}async summittNewData(){console.log(this.newVideos),this.newSectionsNames.length>0&&(o.N.put((0,s.gK)(i.videoSection),JSON.stringify(this.tagGroups)),this.newSectionsNames=[]),this.updateSectionNames.forEach(t=>{o.N.put((0,s.BA)(i.videoSection,t),JSON.stringify(this.tagGroupsListData[t].sort())),this.updateSectionNames=[]});let t=t=>new Promise(e=>setTimeout(e,t));async function e(e,n){console.log(e.length);for(var a=0;a<e.length;a++){let c=e[a];n.push(c.video);let u=n.length-1;for(var r=0;r<c.tags.length;r++){let e=c.tags[r];console.log(u),console.log((0,s.fw)(i.videoSection,e.section,e.name));let n=await o.N.get((0,s.fw)(i.videoSection,e.section,e.name)),a=[];void 0!=n&&(a=JSON.parse(n)),a.includes(u)||(a.push(u),console.log(a),o.N.put((0,s.fw)(i.videoSection,e.section,e.name),JSON.stringify(a))),await t(50)}}e=[],o.N.put((0,s.Bm)(i.videoSection),JSON.stringify(n))}return await e(this.newVideos,this.videoList),!0}static getTags(t,e){let n;return void 0==t?[]:(t.tagGroupsListData.hasOwnProperty(e)&&(n=t.tagGroupsListData[e]),void 0==n)?[]:n}constructor(t,e){if(this.videoList=[],this.newVideos=[],this.tagGroups=[],this.newSectionsNames=[],this.newTagNames=[],this.updateSectionNames=[],this.tagGroupsListData={},void 0!=t&&void 0!=e){try{this.videoList=JSON.parse(t)}catch(t){this.videoList=[]}try{this.tagGroups=JSON.parse(e)}catch(t){this.videoList=[]}this.setTagGroupsListData()}}}},8653:function(t,e,n){n.d(e,{$F:function(){return c},ZP:function(){return r},hy:function(){return a}});var i=n(7437),o=n(2265);let s=new Map;function a(){Object.values(Object.fromEntries(s.entries())).forEach(t=>{t()})}function r(t){let{title:e,children:n}=t;return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-center",children:(0,i.jsx)("strong",{children:e})}),(0,i.jsx)("div",{className:"",children:n})]})}function c(t){let{name:e="",placeholder:n="",list:a=null,value:r,warnMessage:c,warnIfInputNotInList:u,onChange:l,requried:d,dontClearInput:h=!1,...g}=t,f="w-full border ",v=f+"border-yellow-400",[p,w]=(0,o.useState)(f+"border-black");var m=!0,[S]=(0,o.useState)("");void 0!=r&&(S!=r&&(m=!1),S=r);var[N,y]=(0,o.useState)(void 0);void 0!=N&&m||""==N?(S=N,N=void 0):m||(N=void 0);let b=(0,i.jsx)(i.Fragment,{});return s.set(e,function(){y("")}),null!=a&&(b=(0,i.jsx)("datalist",{id:e,children:null==a?void 0:a.map(t=>(0,i.jsx)("option",{value:t},t))})),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",value:S,name:e,list:e,placeholder:n,className:p,onChange:function(t){if(u&&void 0!=a){var e=!0;if(""!=t.target.value){for(var n=0;n<(null==a?void 0:a.length);n++)if(a[n]==t.target.value){e=!1;break}}else e=!1;e?w(v):w(f)}void 0!=l&&l(t),y(t.target.value)},title:c,required:d}),b]})}},6128:function(t,e,n){let i;n.r(e),n.d(e,{TitleContext:function(){return v},VideoListData:function(){return p},default:function(){return N},genID:function(){return c},isMainFieldVaild:function(){return S},resetHard:function(){return m},videoId:function(){return s},videoSection:function(){return r},videoTitle:function(){return o}});var o,s,a,r,c,u=n(7437),l=n(2265),d=n(4864),h=n(8653),g=n(4698),f=n(9145);let v=(0,l.createContext)({title:null,setTitle:null}),p=(0,l.createContext)(void 0);var w=!1;function m(){(0,h.hy)(),c=void 0}function S(){if(!function(){if(void 0==c){let t=Date.now().toString();s=t,c=!0,a(t)}}(),null==o||null==r)return null==o&&alert("Title not set"),null==r&&alert("Section not set"),!1;if(!w)return!0;if(!confirm("Are you sure you want to create a new Section"))return!1;if(void 0!=i)i.addSection(r),d.N.put(f.VV,i.getJson());else{var t=new g.T;t.addSection(r),d.N.put(f.VV,t.getJson())}return w=!1,!0}function N(t){let{children:e}=t,[n,m]=(0,l.useState)("blank"),[S,N]=(0,l.useState)(void 0),[y,b]=(0,l.useState)([]),[x,j]=(0,l.useState)([]),[L,k]=(0,l.useState)(""),[G,T]=(0,l.useState)("");async function V(){if(void 0!=r){let t=await d.N.get(r+"/"+f.gR),e=await d.N.get(r+"/"+f.tI),n=new g.o(t,e);N(n),j(g.o.getVideoList(n).map(t=>"".concat(t.title," ​(").concat(t.id,")")))}}async function C(){let t=await d.N.get(f.VV);void 0!=t?b((i=new g.T(t)).getTitleList()):i=new g.T}return a=k,(0,u.jsxs)(v.Provider,{value:{title:n,setTitle:m},children:[(0,u.jsx)("h2",{className:"text-center text-4xl",children:n}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)(h.$F,{name:"title",list:x,placeholder:"Title",onChange:function(t){let e=(o=t.target.value).split(" ​");e.length>1?(k(e[1].replace("(","").replace(")","")),void 0==c&&(c=!1),s=e[1].replace("(","").replace(")",""),T(e[0]),o=e[0]):T(o)},value:G})}),(0,u.jsxs)("div",{className:"grid grid-cols-2",children:[(0,u.jsx)("input",{type:"text",name:"username",className:"w-full border-black border text-center ",placeholder:"S3 bucket",onChange:function(t){d.N.SetBucket(t.target.value),C()}}),(0,u.jsx)("input",{type:"password",name:"password",className:"w-full border-black border text-center",placeholder:"Password",onChange:function(t){d.N.SetClient(t.target.value),C()}}),(0,u.jsx)(h.$F,{name:"id",placeholder:"Unique Id (leave blank to generate new one",value:L,onChange:function(t){""!=t.target.value&&(s=t.target.value),void 0==c&&(c=!1)}}),(0,u.jsx)(h.$F,{list:y,name:"section",placeholder:"Section Ex: 2023-2024",warnMessage:"You are adding a new section",onChange:function(t){let e;""!=t.target.value&&(r=t.target.value,e=!0,y.forEach(t=>{t==r&&(e=!1)}),w=!!e,V())},warnIfInputNotInList:!0})]})]}),(0,u.jsx)(p.Provider,{value:S,children:e})]})}}}]);